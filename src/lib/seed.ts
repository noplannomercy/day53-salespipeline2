'use client';

/**
 * Seed data for SalesPipe CRM.
 *
 * All IDs are hardcoded strings so that FK relationships are stable across
 * invocations. Call initSeedData() once on first app load — seedIfEmpty()
 * ensures existing user data is never overwritten.
 */

import { STORAGE_KEYS } from '@/types/index';
import type {
  Activity,
  Company,
  Contact,
  Deal,
  Lead,
  Member,
  Pipeline,
  Stage,
  Tag,
} from '@/types/index';
import { seedIfEmpty } from '@/lib/storage';

// ─────────────────────────────────────────────
// Hardcoded IDs (keep in sync with FK references below)
// ─────────────────────────────────────────────

// Members
const MID = {
  admin:    'member-1',
  manager1: 'member-2',
  sales1:   'member-3',
  sales2:   'member-4',
  sales3:   'member-5',
};

// Pipelines
const PID = {
  newBiz:  'pipeline-1',
  renewal: 'pipeline-2',
  partner: 'pipeline-3',
};

// Stages — newBiz (5), renewal (5), partner (5)
// ID pattern: stage-{pipelineIndex}-{stageOrder}
const SID = {
  // New Biz (pipeline 1)
  nb_prospect:    'stage-1-1',
  nb_qualified:   'stage-1-2',
  nb_proposal:    'stage-1-3',
  nb_negotiation: 'stage-1-4',
  nb_closed:      'stage-1-5',
  // Renewal (pipeline 2)
  rn_review:    'stage-2-1',
  rn_proposal:  'stage-2-2',
  rn_approval:  'stage-2-3',
  rn_signed:    'stage-2-4',
  rn_lost:      'stage-2-5',
  // Partner (pipeline 3)
  pt_contact:  'stage-3-1',
  pt_demo:     'stage-3-2',
  pt_pilot:    'stage-3-3',
  pt_contract: 'stage-3-4',
  pt_active:   'stage-3-5',
};

// Companies
const CID = {
  alphaTech:    'company-1',
  betaSoft:     'company-2',
  gammaRetail:  'company-3',
  deltaFinance: 'company-4',
  epsilonMedia: 'company-5',
  zetaHealth:   'company-6',
  etaLogistics: 'company-7',
  thetaEdu:     'company-8',
  iotaEnergy:   'company-9',
  kappaGov:     'company-10',
};

// Contacts (20)
const CTID = {
  c01: 'contact-1',
  c02: 'contact-2',
  c03: 'contact-3',
  c04: 'contact-4',
  c05: 'contact-5',
  c06: 'contact-6',
  c07: 'contact-7',
  c08: 'contact-8',
  c09: 'contact-9',
  c10: 'contact-10',
  c11: 'contact-11',
  c12: 'contact-12',
  c13: 'contact-13',
  c14: 'contact-14',
  c15: 'contact-15',
  c16: 'contact-16',
  c17: 'contact-17',
  c18: 'contact-18',
  c19: 'contact-19',
  c20: 'contact-20',
};

// Leads (5)
const LID = {
  l01: 'lead-1',
  l02: 'lead-2',
  l03: 'lead-3',
  l04: 'lead-4',
  l05: 'lead-5',
};

// Deals (10)
const DID = {
  d01: 'deal-1',
  d02: 'deal-2',
  d03: 'deal-3',
  d04: 'deal-4',
  d05: 'deal-5',
  d06: 'deal-6',
  d07: 'deal-7',
  d08: 'deal-8',
  d09: 'deal-9',
  d10: 'deal-10',
};

// Activities (10)
const AID = {
  a01: 'activity-1',
  a02: 'activity-2',
  a03: 'activity-3',
  a04: 'activity-4',
  a05: 'activity-5',
  a06: 'activity-6',
  a07: 'activity-7',
  a08: 'activity-8',
  a09: 'activity-9',
  a10: 'activity-10',
};

// Tags (5)
const TID = {
  enterprise: 'tag-1',
  urgent:     'tag-2',
  upsell:     'tag-3',
  strategic:  'tag-4',
  trial:      'tag-5',
};

// ─────────────────────────────────────────────
// Seed data arrays
// ─────────────────────────────────────────────

const MEMBERS: Member[] = [
  {
    id: MID.admin,
    name: '김관리',
    email: 'admin@salespipe.kr',
    role: 'admin',
    avatar: '',
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: MID.manager1,
    name: '이매니저',
    email: 'manager1@salespipe.kr',
    role: 'manager',
    avatar: '',
    createdAt: '2025-01-05T09:00:00.000Z',
  },
  {
    id: MID.sales1,
    name: '박영업',
    email: 'sales1@salespipe.kr',
    role: 'sales',
    avatar: '',
    createdAt: '2025-01-10T09:00:00.000Z',
  },
  {
    id: MID.sales2,
    name: '최세일즈',
    email: 'sales2@salespipe.kr',
    role: 'sales',
    avatar: '',
    createdAt: '2025-01-15T09:00:00.000Z',
  },
  {
    id: MID.sales3,
    name: '정담당',
    email: 'sales3@salespipe.kr',
    role: 'sales',
    avatar: '',
    createdAt: '2025-01-20T09:00:00.000Z',
  },
];

const PIPELINES: Pipeline[] = [
  {
    id: PID.newBiz,
    name: '신규 영업',
    description: '신규 고객 발굴 및 계약 체결 파이프라인',
    isDefault: true,
    createdAt: '2025-01-01T09:00:00.000Z',
    updatedAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: PID.renewal,
    name: '계약 갱신',
    description: '기존 고객 계약 갱신 관리 파이프라인',
    isDefault: false,
    createdAt: '2025-01-01T09:00:00.000Z',
    updatedAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: PID.partner,
    name: '파트너 영업',
    description: '파트너사를 통한 간접 영업 파이프라인',
    isDefault: false,
    createdAt: '2025-01-01T09:00:00.000Z',
    updatedAt: '2025-01-01T09:00:00.000Z',
  },
];

const STAGES: Stage[] = [
  // ── New Biz (5 stages, probability: 10/30/60/80/100) ───────────────
  {
    id: SID.nb_prospect,
    pipelineId: PID.newBiz,
    name: '잠재 고객',
    order: 1,
    color: '#94A3B8',
    probability: 10,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.nb_qualified,
    pipelineId: PID.newBiz,
    name: '검증 완료',
    order: 2,
    color: '#3B82F6',
    probability: 30,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.nb_proposal,
    pipelineId: PID.newBiz,
    name: '제안 발송',
    order: 3,
    color: '#8B5CF6',
    probability: 60,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.nb_negotiation,
    pipelineId: PID.newBiz,
    name: '협상 중',
    order: 4,
    color: '#F59E0B',
    probability: 80,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.nb_closed,
    pipelineId: PID.newBiz,
    name: '계약 완료',
    order: 5,
    color: '#10B981',
    probability: 100,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  // ── Renewal (5 stages, probability: 10/30/60/80/100) ────────────────
  {
    id: SID.rn_review,
    pipelineId: PID.renewal,
    name: '갱신 검토',
    order: 1,
    color: '#94A3B8',
    probability: 10,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.rn_proposal,
    pipelineId: PID.renewal,
    name: '갱신 제안',
    order: 2,
    color: '#3B82F6',
    probability: 30,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.rn_approval,
    pipelineId: PID.renewal,
    name: '내부 승인',
    order: 3,
    color: '#8B5CF6',
    probability: 60,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.rn_signed,
    pipelineId: PID.renewal,
    name: '서명 완료',
    order: 4,
    color: '#10B981',
    probability: 80,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.rn_lost,
    pipelineId: PID.renewal,
    name: '갱신 실패',
    order: 5,
    color: '#EF4444',
    probability: 100,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  // ── Partner (5 stages, probability: 10/30/60/80/100) ────────────────
  {
    id: SID.pt_contact,
    pipelineId: PID.partner,
    name: '파트너 접촉',
    order: 1,
    color: '#94A3B8',
    probability: 10,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.pt_demo,
    pipelineId: PID.partner,
    name: '데모 진행',
    order: 2,
    color: '#3B82F6',
    probability: 30,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.pt_pilot,
    pipelineId: PID.partner,
    name: '파일럿',
    order: 3,
    color: '#F59E0B',
    probability: 60,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.pt_contract,
    pipelineId: PID.partner,
    name: '계약 협상',
    order: 4,
    color: '#8B5CF6',
    probability: 80,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: SID.pt_active,
    pipelineId: PID.partner,
    name: '파트너 활성',
    order: 5,
    color: '#10B981',
    probability: 100,
    createdAt: '2025-01-01T09:00:00.000Z',
  },
];

const COMPANIES: Company[] = [
  {
    id: CID.alphaTech,
    name: '알파테크 주식회사',
    industry: 'IT/소프트웨어',
    website: 'https://alphatech.kr',
    phone: '02-1234-5678',
    address: '서울특별시 강남구 테헤란로 123',
    size: 'large',
    revenue: 50000000000,
    createdAt: '2025-01-15T09:00:00.000Z',
    updatedAt: '2025-01-15T09:00:00.000Z',
  },
  {
    id: CID.betaSoft,
    name: '베타소프트',
    industry: 'IT/소프트웨어',
    website: 'https://betasoft.co.kr',
    phone: '02-2345-6789',
    address: '서울특별시 서초구 서초대로 456',
    size: 'medium',
    revenue: 15000000000,
    createdAt: '2025-01-16T09:00:00.000Z',
    updatedAt: '2025-01-16T09:00:00.000Z',
  },
  {
    id: CID.gammaRetail,
    name: '감마리테일',
    industry: '유통/리테일',
    website: 'https://gammaretail.kr',
    phone: '031-3456-7890',
    address: '경기도 성남시 분당구 판교로 789',
    size: 'large',
    revenue: 200000000000,
    createdAt: '2025-01-17T09:00:00.000Z',
    updatedAt: '2025-01-17T09:00:00.000Z',
  },
  {
    id: CID.deltaFinance,
    name: '델타파이낸셜',
    industry: '금융/보험',
    website: 'https://deltafinance.co.kr',
    phone: '02-4567-8901',
    address: '서울특별시 여의도 금융로 101',
    size: 'enterprise',
    revenue: 1000000000000,
    createdAt: '2025-01-18T09:00:00.000Z',
    updatedAt: '2025-01-18T09:00:00.000Z',
  },
  {
    id: CID.epsilonMedia,
    name: '엡실론미디어',
    industry: '미디어/광고',
    website: 'https://epsilonmedia.kr',
    phone: '02-5678-9012',
    address: '서울특별시 마포구 홍익로 202',
    size: 'medium',
    revenue: 30000000000,
    createdAt: '2025-01-19T09:00:00.000Z',
    updatedAt: '2025-01-19T09:00:00.000Z',
  },
  {
    id: CID.zetaHealth,
    name: '제타헬스케어',
    industry: '의료/헬스케어',
    website: 'https://zetahealth.kr',
    phone: '02-6789-0123',
    address: '서울특별시 송파구 올림픽로 303',
    size: 'large',
    revenue: 80000000000,
    createdAt: '2025-01-20T09:00:00.000Z',
    updatedAt: '2025-01-20T09:00:00.000Z',
  },
  {
    id: CID.etaLogistics,
    name: '에타물류',
    industry: '물류/운송',
    website: 'https://etalogistics.kr',
    phone: '032-7890-1234',
    address: '인천광역시 중구 항동로 404',
    size: 'large',
    revenue: 120000000000,
    createdAt: '2025-01-21T09:00:00.000Z',
    updatedAt: '2025-01-21T09:00:00.000Z',
  },
  {
    id: CID.thetaEdu,
    name: '세타교육',
    industry: '교육/이러닝',
    website: 'https://thetaedu.co.kr',
    phone: '02-8901-2345',
    address: '서울특별시 노원구 공릉로 505',
    size: 'small',
    revenue: 5000000000,
    createdAt: '2025-01-22T09:00:00.000Z',
    updatedAt: '2025-01-22T09:00:00.000Z',
  },
  {
    id: CID.iotaEnergy,
    name: '이오타에너지',
    industry: '에너지/환경',
    website: 'https://iotaenergy.kr',
    phone: '02-9012-3456',
    address: '서울특별시 중구 을지로 606',
    size: 'medium',
    revenue: 25000000000,
    createdAt: '2025-01-23T09:00:00.000Z',
    updatedAt: '2025-01-23T09:00:00.000Z',
  },
  {
    id: CID.kappaGov,
    name: '카파공공서비스',
    industry: '공공/정부',
    website: 'https://kappagov.go.kr',
    phone: '02-0123-4567',
    address: '세종특별자치시 한누리대로 707',
    size: 'enterprise',
    revenue: null,
    createdAt: '2025-01-24T09:00:00.000Z',
    updatedAt: '2025-01-24T09:00:00.000Z',
  },
];

const CONTACTS: Contact[] = [
  // AlphaTech (2)
  {
    id: CTID.c01,
    companyId: CID.alphaTech,
    name: '강민준',
    email: 'minjun.kang@alphatech.kr',
    phone: '010-1111-2222',
    position: 'CTO',
    avatar: '',
    createdAt: '2025-02-01T09:00:00.000Z',
    updatedAt: '2025-02-01T09:00:00.000Z',
  },
  {
    id: CTID.c02,
    companyId: CID.alphaTech,
    name: '이소연',
    email: 'soyeon.lee@alphatech.kr',
    phone: '010-2222-3333',
    position: '구매팀 팀장',
    avatar: '',
    createdAt: '2025-02-01T09:00:00.000Z',
    updatedAt: '2025-02-01T09:00:00.000Z',
  },
  // BetaSoft (2)
  {
    id: CTID.c03,
    companyId: CID.betaSoft,
    name: '박철수',
    email: 'cheolsu.park@betasoft.co.kr',
    phone: '010-3333-4444',
    position: 'CEO',
    avatar: '',
    createdAt: '2025-02-02T09:00:00.000Z',
    updatedAt: '2025-02-02T09:00:00.000Z',
  },
  {
    id: CTID.c04,
    companyId: CID.betaSoft,
    name: '정유진',
    email: 'yujin.jung@betasoft.co.kr',
    phone: '010-4444-5555',
    position: '개발팀 부장',
    avatar: '',
    createdAt: '2025-02-02T09:00:00.000Z',
    updatedAt: '2025-02-02T09:00:00.000Z',
  },
  // GammaRetail (2)
  {
    id: CTID.c05,
    companyId: CID.gammaRetail,
    name: '조현우',
    email: 'hyunwoo.jo@gammaretail.kr',
    phone: '010-5555-6666',
    position: 'IT 담당 이사',
    avatar: '',
    createdAt: '2025-02-03T09:00:00.000Z',
    updatedAt: '2025-02-03T09:00:00.000Z',
  },
  {
    id: CTID.c06,
    companyId: CID.gammaRetail,
    name: '윤서희',
    email: 'seohee.yoon@gammaretail.kr',
    phone: '010-6666-7777',
    position: '전략기획 팀장',
    avatar: '',
    createdAt: '2025-02-03T09:00:00.000Z',
    updatedAt: '2025-02-03T09:00:00.000Z',
  },
  // DeltaFinance (2)
  {
    id: CTID.c07,
    companyId: CID.deltaFinance,
    name: '한재원',
    email: 'jaewon.han@deltafinance.co.kr',
    phone: '010-7777-8888',
    position: '디지털혁신 본부장',
    avatar: '',
    createdAt: '2025-02-04T09:00:00.000Z',
    updatedAt: '2025-02-04T09:00:00.000Z',
  },
  {
    id: CTID.c08,
    companyId: CID.deltaFinance,
    name: '송미래',
    email: 'mirae.song@deltafinance.co.kr',
    phone: '010-8888-9999',
    position: '기술기획 차장',
    avatar: '',
    createdAt: '2025-02-04T09:00:00.000Z',
    updatedAt: '2025-02-04T09:00:00.000Z',
  },
  // EpsilonMedia (2)
  {
    id: CTID.c09,
    companyId: CID.epsilonMedia,
    name: '오태양',
    email: 'taeyang.oh@epsilonmedia.kr',
    phone: '010-9999-0000',
    position: 'CMO',
    avatar: '',
    createdAt: '2025-02-05T09:00:00.000Z',
    updatedAt: '2025-02-05T09:00:00.000Z',
  },
  {
    id: CTID.c10,
    companyId: CID.epsilonMedia,
    name: '임하늘',
    email: 'haneul.lim@epsilonmedia.kr',
    phone: '010-0000-1111',
    position: '광고 플랫폼 PM',
    avatar: '',
    createdAt: '2025-02-05T09:00:00.000Z',
    updatedAt: '2025-02-05T09:00:00.000Z',
  },
  // ZetaHealth (2)
  {
    id: CTID.c11,
    companyId: CID.zetaHealth,
    name: '백지수',
    email: 'jisu.baek@zetahealth.kr',
    phone: '010-1234-5678',
    position: 'CIO',
    avatar: '',
    createdAt: '2025-02-06T09:00:00.000Z',
    updatedAt: '2025-02-06T09:00:00.000Z',
  },
  {
    id: CTID.c12,
    companyId: CID.zetaHealth,
    name: '서준혁',
    email: 'junhyuk.seo@zetahealth.kr',
    phone: '010-2345-6789',
    position: '의료정보팀 팀장',
    avatar: '',
    createdAt: '2025-02-06T09:00:00.000Z',
    updatedAt: '2025-02-06T09:00:00.000Z',
  },
  // EtaLogistics (2)
  {
    id: CTID.c13,
    companyId: CID.etaLogistics,
    name: '안승민',
    email: 'seungmin.an@etalogistics.kr',
    phone: '010-3456-7890',
    position: '물류시스템 본부장',
    avatar: '',
    createdAt: '2025-02-07T09:00:00.000Z',
    updatedAt: '2025-02-07T09:00:00.000Z',
  },
  {
    id: CTID.c14,
    companyId: CID.etaLogistics,
    name: '류다은',
    email: 'daeun.ryu@etalogistics.kr',
    phone: '010-4567-8901',
    position: 'SCM 팀장',
    avatar: '',
    createdAt: '2025-02-07T09:00:00.000Z',
    updatedAt: '2025-02-07T09:00:00.000Z',
  },
  // ThetaEdu (1)
  {
    id: CTID.c15,
    companyId: CID.thetaEdu,
    name: '문예진',
    email: 'yejin.moon@thetaedu.co.kr',
    phone: '010-5678-9012',
    position: '서비스기획 팀장',
    avatar: '',
    createdAt: '2025-02-08T09:00:00.000Z',
    updatedAt: '2025-02-08T09:00:00.000Z',
  },
  // IotaEnergy (1)
  {
    id: CTID.c16,
    companyId: CID.iotaEnergy,
    name: '권도윤',
    email: 'doyun.kwon@iotaenergy.kr',
    phone: '010-6789-0123',
    position: 'DX 추진 팀장',
    avatar: '',
    createdAt: '2025-02-09T09:00:00.000Z',
    updatedAt: '2025-02-09T09:00:00.000Z',
  },
  // KappaGov (1)
  {
    id: CTID.c17,
    companyId: CID.kappaGov,
    name: '황시온',
    email: 'sion.hwang@kappagov.go.kr',
    phone: '010-7890-1234',
    position: '디지털정부 과장',
    avatar: '',
    createdAt: '2025-02-10T09:00:00.000Z',
    updatedAt: '2025-02-10T09:00:00.000Z',
  },
  // Independent contacts (no company, 3)
  {
    id: CTID.c18,
    companyId: null,
    name: '장하준',
    email: 'hajun.jang@email.com',
    phone: '010-8901-2345',
    position: '프리랜서 컨설턴트',
    avatar: '',
    createdAt: '2025-02-11T09:00:00.000Z',
    updatedAt: '2025-02-11T09:00:00.000Z',
  },
  {
    id: CTID.c19,
    companyId: null,
    name: '신아린',
    email: 'arin.shin@email.com',
    phone: '010-9012-3456',
    position: '독립 투자자',
    avatar: '',
    createdAt: '2025-02-12T09:00:00.000Z',
    updatedAt: '2025-02-12T09:00:00.000Z',
  },
  {
    id: CTID.c20,
    companyId: null,
    name: '전수현',
    email: 'suhyun.jeon@email.com',
    phone: '010-0123-4567',
    position: '스타트업 대표',
    avatar: '',
    createdAt: '2025-02-13T09:00:00.000Z',
    updatedAt: '2025-02-13T09:00:00.000Z',
  },
];

const LEADS: Lead[] = [
  {
    id: LID.l01,
    contactId: CTID.c18,
    source: 'web',
    status: 'new',
    score: 45,
    assignedTo: MID.sales1,
    createdAt: '2026-01-10T09:00:00.000Z',
    updatedAt: '2026-01-10T09:00:00.000Z',
  },
  {
    id: LID.l02,
    contactId: CTID.c19,
    source: 'referral',
    status: 'contacted',
    score: 72,
    assignedTo: MID.sales2,
    createdAt: '2026-01-15T09:00:00.000Z',
    updatedAt: '2026-01-20T09:00:00.000Z',
  },
  {
    id: LID.l03,
    contactId: CTID.c20,
    source: 'event',
    status: 'qualified',
    score: 88,
    assignedTo: MID.sales1,
    createdAt: '2026-01-20T09:00:00.000Z',
    updatedAt: '2026-02-01T09:00:00.000Z',
  },
  {
    id: LID.l04,
    contactId: CTID.c15,
    source: 'ad',
    status: 'new',
    score: 35,
    assignedTo: MID.sales3,
    createdAt: '2026-02-01T09:00:00.000Z',
    updatedAt: '2026-02-01T09:00:00.000Z',
  },
  {
    id: LID.l05,
    contactId: CTID.c16,
    source: 'other',
    status: 'unqualified',
    score: 20,
    assignedTo: MID.sales2,
    createdAt: '2026-02-05T09:00:00.000Z',
    updatedAt: '2026-02-10T09:00:00.000Z',
  },
];

const DEALS: Deal[] = [
  // New Biz pipeline deals
  {
    id: DID.d01,
    pipelineId: PID.newBiz,
    stageId: SID.nb_proposal,
    contactId: CTID.c01,
    companyId: CID.alphaTech,
    title: 'AlphaTech SaaS 플랫폼 도입',
    value: 120000000,
    currency: 'KRW',
    expectedCloseDate: '2026-03-31T00:00:00.000Z',
    priority: 'high',
    status: 'open',
    lostReason: '',
    assignedTo: MID.sales1,
    createdAt: '2026-01-05T09:00:00.000Z',
    updatedAt: '2026-01-25T09:00:00.000Z',
  },
  {
    id: DID.d02,
    pipelineId: PID.newBiz,
    stageId: SID.nb_negotiation,
    contactId: CTID.c07,
    companyId: CID.deltaFinance,
    title: '델타파이낸셜 디지털 전환 솔루션',
    value: 500000000,
    currency: 'KRW',
    expectedCloseDate: '2026-02-28T00:00:00.000Z',
    priority: 'urgent',
    status: 'open',
    lostReason: '',
    assignedTo: MID.manager1,
    createdAt: '2025-12-01T09:00:00.000Z',
    updatedAt: '2026-02-10T09:00:00.000Z',
  },
  {
    id: DID.d03,
    pipelineId: PID.newBiz,
    stageId: SID.nb_closed,
    contactId: CTID.c05,
    companyId: CID.gammaRetail,
    title: '감마리테일 재고관리 시스템',
    value: 85000000,
    currency: 'KRW',
    expectedCloseDate: '2026-01-31T00:00:00.000Z',
    priority: 'medium',
    status: 'won',
    lostReason: '',
    assignedTo: MID.sales2,
    createdAt: '2025-11-01T09:00:00.000Z',
    updatedAt: '2026-01-31T09:00:00.000Z',
  },
  {
    id: DID.d04,
    pipelineId: PID.newBiz,
    stageId: SID.nb_qualified,
    contactId: CTID.c11,
    companyId: CID.zetaHealth,
    title: '제타헬스케어 EMR 연동 프로젝트',
    value: 200000000,
    currency: 'KRW',
    expectedCloseDate: '2026-04-30T00:00:00.000Z',
    priority: 'high',
    status: 'open',
    lostReason: '',
    assignedTo: MID.sales3,
    createdAt: '2026-01-20T09:00:00.000Z',
    updatedAt: '2026-02-05T09:00:00.000Z',
  },
  {
    id: DID.d05,
    pipelineId: PID.newBiz,
    stageId: SID.nb_prospect,
    contactId: CTID.c17,
    companyId: CID.kappaGov,
    title: '카파공공 클라우드 전환 사업',
    value: 1500000000,
    currency: 'KRW',
    expectedCloseDate: '2026-06-30T00:00:00.000Z',
    priority: 'medium',
    status: 'open',
    lostReason: '',
    assignedTo: MID.manager1,
    createdAt: '2026-02-01T09:00:00.000Z',
    updatedAt: '2026-02-01T09:00:00.000Z',
  },
  // Renewal pipeline deals
  {
    id: DID.d06,
    pipelineId: PID.renewal,
    stageId: SID.rn_approval,
    contactId: CTID.c03,
    companyId: CID.betaSoft,
    title: '베타소프트 연간 구독 갱신',
    value: 48000000,
    currency: 'KRW',
    expectedCloseDate: '2026-02-28T00:00:00.000Z',
    priority: 'high',
    status: 'open',
    lostReason: '',
    assignedTo: MID.sales1,
    createdAt: '2026-01-10T09:00:00.000Z',
    updatedAt: '2026-02-08T09:00:00.000Z',
  },
  {
    id: DID.d07,
    pipelineId: PID.renewal,
    stageId: SID.rn_lost,
    contactId: CTID.c09,
    companyId: CID.epsilonMedia,
    title: '엡실론미디어 라이선스 갱신',
    value: 30000000,
    currency: 'KRW',
    expectedCloseDate: '2026-01-31T00:00:00.000Z',
    priority: 'low',
    status: 'lost',
    lostReason: '경쟁사 제품으로 전환',
    assignedTo: MID.sales2,
    createdAt: '2025-12-15T09:00:00.000Z',
    updatedAt: '2026-01-31T09:00:00.000Z',
  },
  // Partner pipeline deals
  {
    id: DID.d08,
    pipelineId: PID.partner,
    stageId: SID.pt_pilot,
    contactId: CTID.c13,
    companyId: CID.etaLogistics,
    title: '에타물류 파트너 파일럿',
    value: 75000000,
    currency: 'KRW',
    expectedCloseDate: '2026-03-31T00:00:00.000Z',
    priority: 'medium',
    status: 'open',
    lostReason: '',
    assignedTo: MID.sales3,
    createdAt: '2026-01-25T09:00:00.000Z',
    updatedAt: '2026-02-10T09:00:00.000Z',
  },
  {
    id: DID.d09,
    pipelineId: PID.partner,
    stageId: SID.pt_active,
    contactId: CTID.c03,
    companyId: CID.betaSoft,
    title: '베타소프트 리셀러 계약',
    value: 20000000,
    currency: 'KRW',
    expectedCloseDate: '2026-01-15T00:00:00.000Z',
    priority: 'low',
    status: 'won',
    lostReason: '',
    assignedTo: MID.sales2,
    createdAt: '2025-11-15T09:00:00.000Z',
    updatedAt: '2026-01-15T09:00:00.000Z',
  },
  {
    id: DID.d10,
    pipelineId: PID.newBiz,
    stageId: SID.nb_proposal,
    contactId: CTID.c08,
    companyId: CID.deltaFinance,
    title: '델타파이낸셜 데이터 분석 모듈',
    value: 95000000,
    currency: 'KRW',
    expectedCloseDate: '2026-04-15T00:00:00.000Z',
    priority: 'medium',
    status: 'open',
    lostReason: '',
    assignedTo: MID.sales1,
    createdAt: '2026-02-05T09:00:00.000Z',
    updatedAt: '2026-02-15T09:00:00.000Z',
  },
];

const ACTIVITIES: Activity[] = [
  {
    id: AID.a01,
    dealId: DID.d01,
    contactId: CTID.c01,
    type: 'call',
    title: 'AlphaTech 기술 요건 미팅',
    description: 'CTO와 플랫폼 도입 요건 논의 예정',
    dueDate: '2026-02-21T10:00:00.000Z',
    isCompleted: false,
    assignedTo: MID.sales1,
    createdAt: '2026-02-18T09:00:00.000Z',
  },
  {
    id: AID.a02,
    dealId: DID.d02,
    contactId: CTID.c07,
    type: 'meeting',
    title: '델타파이낸셜 협상 최종 미팅',
    description: '계약 조건 최종 협의 및 서명 일정 확정',
    dueDate: '2026-02-25T14:00:00.000Z',
    isCompleted: false,
    assignedTo: MID.manager1,
    createdAt: '2026-02-15T09:00:00.000Z',
  },
  {
    id: AID.a03,
    dealId: DID.d03,
    contactId: CTID.c05,
    type: 'task',
    title: '감마리테일 계약서 발송',
    description: '전자 계약서 발송 완료',
    dueDate: '2026-01-30T09:00:00.000Z',
    isCompleted: true,
    assignedTo: MID.sales2,
    createdAt: '2026-01-28T09:00:00.000Z',
  },
  {
    id: AID.a04,
    dealId: DID.d04,
    contactId: CTID.c11,
    type: 'email',
    title: '제타헬스케어 제안서 이메일 발송',
    description: '기술 제안서 및 가격표 발송',
    dueDate: '2026-02-20T09:00:00.000Z',
    isCompleted: true,
    assignedTo: MID.sales3,
    createdAt: '2026-02-18T09:00:00.000Z',
  },
  {
    id: AID.a05,
    dealId: DID.d06,
    contactId: CTID.c03,
    type: 'call',
    title: '베타소프트 갱신 조건 전화',
    description: '할인 조건 및 갱신 범위 확인',
    dueDate: '2026-02-22T11:00:00.000Z',
    isCompleted: false,
    assignedTo: MID.sales1,
    createdAt: '2026-02-17T09:00:00.000Z',
  },
  {
    id: AID.a06,
    dealId: DID.d08,
    contactId: CTID.c13,
    type: 'meeting',
    title: '에타물류 파일럿 결과 리뷰',
    description: '파일럿 3개월 결과 분석 및 본계약 논의',
    dueDate: '2026-03-01T10:00:00.000Z',
    isCompleted: false,
    assignedTo: MID.sales3,
    createdAt: '2026-02-10T09:00:00.000Z',
  },
  {
    id: AID.a07,
    dealId: DID.d10,
    contactId: CTID.c08,
    type: 'task',
    title: '데이터 분석 모듈 데모 준비',
    description: '고객 데이터 샘플로 데모 시나리오 구성',
    dueDate: '2026-02-28T09:00:00.000Z',
    isCompleted: false,
    assignedTo: MID.sales1,
    createdAt: '2026-02-16T09:00:00.000Z',
  },
  {
    id: AID.a08,
    dealId: null,
    contactId: CTID.c20,
    type: 'call',
    title: '전수현 대표 초기 상담',
    description: '서비스 소개 및 니즈 파악',
    dueDate: '2026-02-19T15:00:00.000Z',
    isCompleted: false,
    assignedTo: MID.sales2,
    createdAt: '2026-02-14T09:00:00.000Z',
  },
  {
    id: AID.a09,
    dealId: DID.d05,
    contactId: CTID.c17,
    type: 'meeting',
    title: '카파공공 RFP 사전 미팅',
    description: '사업 요건 및 입찰 조건 사전 파악',
    dueDate: '2026-02-24T10:00:00.000Z',
    isCompleted: false,
    assignedTo: MID.manager1,
    createdAt: '2026-02-12T09:00:00.000Z',
  },
  {
    id: AID.a10,
    dealId: DID.d09,
    contactId: CTID.c03,
    type: 'task',
    title: '베타소프트 리셀러 계약서 수령',
    description: '서명된 계약서 원본 우편 수령 확인',
    dueDate: '2026-01-20T09:00:00.000Z',
    isCompleted: true,
    assignedTo: MID.sales2,
    createdAt: '2026-01-16T09:00:00.000Z',
  },
];

const TAGS: Tag[] = [
  {
    id: TID.enterprise,
    name: '엔터프라이즈',
    color: '#6366F1',
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: TID.urgent,
    name: '긴급',
    color: '#EF4444',
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: TID.upsell,
    name: '업셀',
    color: '#10B981',
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: TID.strategic,
    name: '전략 계정',
    color: '#F59E0B',
    createdAt: '2025-01-01T09:00:00.000Z',
  },
  {
    id: TID.trial,
    name: '트라이얼',
    color: '#3B82F6',
    createdAt: '2025-01-01T09:00:00.000Z',
  },
];

// ─────────────────────────────────────────────
// Public API
// ─────────────────────────────────────────────

/**
 * Populate localStorage with demo data on first app launch.
 *
 * Each entity is seeded independently via seedIfEmpty(), so a key that
 * already has data (from a previous session) will not be overwritten.
 *
 * Call this function from the app root layout or an initialisation effect:
 *   useEffect(() => { initSeedData(); }, []);
 */
export function initSeedData(): void {
  seedIfEmpty(STORAGE_KEYS.MEMBERS, MEMBERS);
  seedIfEmpty(STORAGE_KEYS.PIPELINES, PIPELINES);
  seedIfEmpty(STORAGE_KEYS.STAGES, STAGES);
  seedIfEmpty(STORAGE_KEYS.COMPANIES, COMPANIES);
  seedIfEmpty(STORAGE_KEYS.CONTACTS, CONTACTS);
  seedIfEmpty(STORAGE_KEYS.LEADS, LEADS);
  seedIfEmpty(STORAGE_KEYS.DEALS, DEALS);
  seedIfEmpty(STORAGE_KEYS.ACTIVITIES, ACTIVITIES);
  seedIfEmpty(STORAGE_KEYS.TAGS, TAGS);
}

/** @deprecated Use initSeedData() instead. */
export const seedAll = initSeedData;
